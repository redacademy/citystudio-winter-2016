jQuery(document).ready(function(e){function t(){var e=Object.keys(n).map(function(e){if(console.log("filter",e),""!==n[e])return filteredQuery="filter["+e+"]="+n[e],filteredQuery}).filter(Array).join("&"),t=e.split("&&").join("&");return console.log("mappedobject",t),t}function s(){console.log(api_vars.rest_url),e.ajax({type:"GET",dataType:"json",url:"http://citystudio.staging.wpengine.com/wp-json/wp/v2/project?"+t()+"&filter[posts_per_page]=16",success:function(t,s,n){var i=t,c=e(".grid"),a="";c.empty(),i.length>0?(e.each(i,function(e,t){a+='<a class="gallery-anchor" ',a+='href="'+t.link+'">',a+='<li class="gallery-image-wrap" style="background: url('+t.featured_image_url+');">',a+='<div class="description">',a+='<h2 class="description-title">'+t.title.rendered+"</h2>",a+='<div class="subtitle"> '+t.subtitle+" </div>",a+="<br>",a+="</div>",a+="</li>",a+="</a>"}),c.append(a)):c.append('<div class="no-projects"<li><h1>No Projects Found! :( </h1><h2>Please Refresh and Try Again!</h2></li></div>')},error:function(e){alert("Exception:"+e)}})}(e("body").hasClass("single-project")||e("body").hasClass("archive")||e("body").hasClass("search"))&&(e("#sort_nav").remove(),e(".nav-div").addClass("notransition"),e(".nav-div").css("background-color","#006496"));var n={themes:"",partners:"",year:""};checkedTheme="",checkedPart="",checkedYear="";var i=e(".theme-labels");partLabel=e(".part-labels"),yearLabel=e(".year-labels"),e("#refresh").on("click",function(){checkedTheme="",checkedPart="",checkedYear="",n={themes:"",partners:"",year:""},i.empty().hide(),partLabel.empty().hide(),yearLabel.empty().hide(),s()}),e(".themes.sort-menu-item").on("click",function(){function t(){e(n).removeClass("toggle-menu-item"),e(n).children().removeClass("toggle-menu-item"),e("i",n).removeClass("fa-sort-asc"),e("i",n).addClass("fa-sort-desc")}e(this).toggleClass("toggle-menu-item"),e(this).children().toggleClass("toggle-menu-item"),e("i",this).toggleClass("fa-sort-desc fa-sort-asc");var s=e(this).hasClass("toggle-menu-item");if(s){var n=".themes.sort-menu-item";e(".partners.sort-menu-item").on("click",function(){t()}),e(".years.sort-menu-item").on("click",function(){t()}),e(".hero").on("click",function(){t()}),e(".homepage-titles").on("click",function(){t()}),e(".grid").on("click",function(){t()}),e(".explore-section").on("click",function(){t()})}}),e(".partners.sort-menu-item").on("click",function(){function t(){e(n).removeClass("toggle-menu-item"),e(n).children().removeClass("toggle-menu-item"),e("i",n).removeClass("fa-sort-asc"),e("i",n).addClass("fa-sort-desc")}e(this).toggleClass("toggle-menu-item"),e(this).children().toggleClass("toggle-menu-item"),e("i",this).toggleClass("fa-sort-desc fa-sort-asc");var s=e(this).hasClass("toggle-menu-item");if(s){var n=".partners.sort-menu-item";e(".themes.sort-menu-item").on("click",function(){t()}),e(".years.sort-menu-item").on("click",function(){t()}),e(".hero").on("click",function(){t()}),e(".homepage-titles").on("click",function(){t()}),e(".grid").on("click",function(){t()}),e(".explore-section").on("click",function(){t()})}}),e(".years.sort-menu-item").on("click",function(){function t(){e(n).removeClass("toggle-menu-item"),e(n).children().removeClass("toggle-menu-item"),e("i",n).removeClass("fa-sort-asc fa-times"),e("i",n).addClass("fa-sort-desc")}e(this).toggleClass("toggle-menu-item"),e(this).children().toggleClass("toggle-menu-item"),e("i",this).toggleClass("fa-sort-desc fa-sort-asc");var s=e(this).hasClass("toggle-menu-item");if(s){var n=".years.sort-menu-item";e(".themes.sort-menu-item").on("click",function(){t()}),e(".partners.sort-menu-item").on("click",function(){t()}),e(".hero").on("click",function(){t()}),e(".homepage-titles").on("click",function(){t()}),e(".grid").on("click",function(){t()}),e(".explore-section").on("click",function(){t()})}}),i.on("click",function(){e(this).empty().hide()}),partLabel.on("click",function(){e(this).empty().hide()}),yearLabel.on("click",function(){e(this).empty().hide()}),e(".themes").on("click",function(){e(this).children(".nav-sub-menu").children().addClass("current-menu")}),e(".sub-menu-theme").on("click",function(){e(this.checked)&&(n.themes=e(this).find("input").val(),checkedTheme=e(this).text().trim(),i.empty().show().append("<label>"+checkedTheme+"</label>"),e(this).parent().removeClass("current-menu"),s())}),e(".sub-menu-part").on("click",function(){e(this.checked)&&(n.partners=e(this).find("input").val(),checkedPart=e(this).text().trim(),partLabel.empty(),partLabel.show().append("<label>"+checkedPart+"</label>"),e(this).parent().removeClass("current-menu"),s())}),e(".sub-menu-year").on("click",function(){e(this.checked)&&(n.years=parseInt(e(this).find("input").val()),checkedYear=parseInt(e(this).text().trim()),yearLabel.empty(),yearLabel.show().append("<label>"+checkedYear+"</label>"),e(this).parent().removeClass("current-menu"),s())})});