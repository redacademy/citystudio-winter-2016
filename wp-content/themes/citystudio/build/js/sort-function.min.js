jQuery(document).ready(function(e){function t(){return Object.keys(a).map(function(e){return a[e]}).join("+")}function t(){return Object.keys(a).map(function(e){return a[e]}).join("+")}function n(){console.log(a),e.ajax({type:"GET",dataType:"json",url:api_vars.rest_url+"wp/v2/project?filter[project_tags]="+t(),success:function(t){var n=e(".home-slider"),a="";n.flickity("destroy"),n.empty(),e.each(t,function(e,t){a+='<a class="gallery-anchor featured-square-1" href="'+t.link+'">',a+='<li style="background: url('+t.featured_image_url+') no-repeat;">',a+="</li></a>"}),n.append(a).flickity()}})}e("#sort").resize(function(){e("#page").width()<=480&&e("#sort.nav-div").addClass("open")}),e("#sort_nav").click(function(){e("#sort").toggleClass("open")}),e("#refresh").click(function(){l="",r="",i="",e(".neigh-labels").removeClass("current-menu"),e(".neigh-labels").hide(),e(".neigh-labels").empty(),e(".part-labels").removeClass("current-menu"),e(".part-labels").hide(),e(".part-labels").empty(),e(".year-labels").removeClass("current-menu"),e(".year-labels").hide(),e(".year-labels").empty(),e(".foot-sub-menu").removeClass("current-menu")}),e(".foot-sub-menu label").hide(),e(".menu-item").hover(function(){e(this).children(".foot-sub-menu").toggleClass("current-menu"),""!==l&&""!==r&&""!==i||e(".current-menu").toggle()});var a={neighbourhood:"",partners:"",year:""},l="",r="",i="";e(".foot-sub-menu label").hide(),e(".neigh-labels").hide(),e(".part-labels").hide(),e(".year-labels").hide(),e(".menu-item").hover(function(){e(this).children(".foot-sub-menu").addClass("current-menu")},function(){e(this).removeClass("current-menu")}),e(".sub-menu-neigh").click(function(){e(this.checked)&&(a.neighValue=e(this).find("input").val(),l=e(this).text().trim(),e(".neigh-labels").show().append("<label>"+l+"</label>"),e(this).parent().hide(),n())}),e(".sub-menu-part").click(function(){e(this.checked)&&(a.partValue=e(this).find("input").val(),r=e(this).text().trim(),e(".part-labels").show().append("<label>"+r+"</label>"),e(this).parent().hide(),n())}),e(".sub-menu-year").click(function(){e(this.checked)&&(a.yearValue=e(this).find("input").val(),i=e(this).text().trim(),e(".year-labels").show().append("<label>"+i+"</label>"),e(this).parent().hide(),n())})});