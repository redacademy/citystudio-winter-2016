jQuery(document).ready(function(e){function i(){return Object.keys(n).map(function(e){return""!==n[e]?"filter["+e+"]="+n[e]:!1}).filter(Boolean).join("&")}function t(){console.log(n),e.ajax({type:"GET",dataType:"json",url:api_vars.rest_url+"wp/v2/project?"+i(),success:function(t){console.log(t);var n=e(".home-slider"),a="";n.flickity("destroy"),n.empty(),i()!==!1?e.each(t,function(e,i){a+='<a class="gallery-anchor featured-square-1" href="'+i.link+'">',a+='<li style="background: url('+i.featured_image_url+') no-repeat;">',a+='<div class="description"> <h2 class="description-title">'+i.title.rendered+"</h2>",a+='<div class="subtitle"> '+i.subtitle+" </div>",a+="<br>",a+='<span class="home-description"> '+i.excerpt+" </span>",a+="</div></div>",a+="</li></a>"}):e.each(t,function(e,i){a+='<a class="gallery-anchor featured-square-1" href="'+i.link+'">',a+='<li style="background-color: dark-blue;">',a+="</div></div>",a+="</li></a>"}),n.append(a).flickity()}})}var n={neighbourhoods:"",partners:"",year:""},a="",s="",l="";e("#sort").resize(function(){e("#page").width()<=480&&e("#sort.nav-div").addClass("open")}),e("#sort").click(function(){e("#sort").addClass("open"),e(this).data("clicked",!0)&&e(".refresh").click(function(){e(".refresh").removeClass("open")})}),e(".foot-sub-menu label").hide(),e(".neigh-labels").hide(),e(".part-labels").hide(),e(".year-labels").hide(),e(".menu-item").hover(function(){e(this).children(".foot-sub-menu").addClass("current-menu")},function(){e(this).removeClass("current-menu")}),e(".sub-menu-neigh").click(function(){e(this.checked)&&(n.neighbourhoods=e(this).find("input").val(),a=e(this).text().trim(),e(".neigh-labels").show().append("<label>"+a+"</label>"),e(this).parent().hide(),t())}),e(".sub-menu-part").click(function(){e(this.checked)&&(n.partners=e(this).find("input").val(),s=e(this).text().trim(),e(".part-labels").show().append("<label>"+s+"</label>"),e(this).parent().hide(),t())}),e(".sub-menu-year").click(function(){e(this.checked)&&(n.year=e(this).find("input").val(),l=e(this).text().trim(),e(".year-labels").show().append("<label>"+l+"</label>"),e(this).parent().hide(),t())})});
