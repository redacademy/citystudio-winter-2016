jQuery(document).ready(function(e){function r(){return Object.keys(t).map(function(e){return""!==t[e]?"filter["+e+"]="+t[e]:!1}).filter(Boolean).join("&")}function a(){e.ajax({type:"GET",dataType:"json",url:api_vars.rest_url+"wp/v2/project?"+r(),success:function(r){if(console.log(r),r.length<14)for(var a=14-r.length,t=0;a>t;t++)r.push({placeholder:!0});var s=e(".grid"),n="";s.empty(),e.each(r,function(e,r){function a(){return"1"===r.featured_project[0]?"featured-rectangle":"featured-square"}r.placeholder?(n+='<a class="gallery-anchor"><li class="featured-square blue-placeholder">',n+="</li></a>"):(n+='<a class="gallery-anchor" href="'+r.link+'">',n+='<li class=" '+a(),NaN+r.featured_image_url+') no-repeat cover;">',n+=' " style="background: url('+r.featured_image_url+') no-repeat;">',n+='<div class="description">',n+='<h2 class="description-title">'+r.title.rendered+"</h2>",n+='<div class="subtitle"> '+r.subtitle+" </div>",n+="<br>",n+='<span class="home-description"> '+r.excerpt+" </span>",n+="</div>",n+="</li>",n+="</a>")}),s.append(n)}})}(e("body").hasClass("single-project")||e("body").hasClass("archive")||e("body").hasClass("search"))&&(e("#sort_nav").remove(),e(".nav-div").addClass("notransition"),e(".nav-div").css("background-color","#006496"));var t={neighbourhoods:"",partners:"",year:""};checkedNeigh="",checkedPart="",checkedYear="",e("#sort").resize(function(){e("#sort.nav-div").addClass("open")}),e("#sort_nav").click(function(){e("#sort").toggleClass("open")}),e("#refresh").click(function(){e("#sort").toggleClass("open")}),e("#refresh").click(function(){checkedNeigh="",checkedPart="",checkedYear="",t={neighbourhoods:"",partners:"",year:""},e(".neigh-labels").empty().hide(),e(".part-labels").empty().hide(),e(".year-labels").empty().hide(),a()}),e(".menu-item").mouseover(function(){var r=e(this).children("div").find("label").length;r||e(this).children(".foot-sub-menu").addClass("current-menu")}),e(".menu-item").mouseout(function(){e(this).children(".foot-sub-menu").removeClass("current-menu")}),e(".sub-menu-neigh").click(function(){e(this.checked)&&(t.neighbourhoods=e(this).find("input").val(),checkedNeigh=e(this).text().trim(),e(".neigh-labels").show().append("<label>"+checkedNeigh+"</label>"),e(this).parent().removeClass("current-menu"),a())}),e(".sub-menu-part").click(function(){e(this.checked)&&(t.partners=e(this).find("input").val(),checkedPart=e(this).text().trim(),e(".part-labels").show().append("<label>"+checkedPart+"</label>"),e(this).parent().removeClass("current-menu"),a())}),e(".sub-menu-year").click(function(){e(this.checked)&&(t.year=e(this).find("input").val(),checkedYear=e(this).text().trim(),e(".year-labels").show().append("<label>"+checkedYear+"</label>"),e(this).parent().removeClass("current-menu"),a())})});